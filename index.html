<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title></title>

<!--

<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Josefin+Sans:600' rel='stylesheet' type='text/css'>

<!-- font awesome 
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

<!-- bootstrap 
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />

<!-- animate.css 
<link rel="stylesheet" href="assets/animate/animate.css" />
<link rel="stylesheet" href="assets/animate/set.css" />

<!-- favicon 
<link rel="shortcut icon" href="images/favicon.jpg" type="image/x-icon">
<link rel="icon" href="images/favicon.jpg" type="image/x-icon">

<!-- gallery -->
<link rel="stylesheet" href="assets/css/blueimp-gallery.min.css">
    
<!--Custom CSS-->
<link rel="stylesheet" href="assets/main.css">

</head>

<body>

    <div class="container">
        
        <!-- Gallery Elements --> 
        <div id="blueimp-gallery-carousel" class="blueimp-gallery blueimp-gallery-carousel">
            <div class="slides"></div>
            <a class="prev"><div class="arrow-left"></div></a>
            <a class="next"><div class="arrow-right"></div></a>
            
            <div class="intro-wrapper">
                <p class="intro-title"></p>
                <div class="intro-text"></div>
            </div>
        </div>
        
        <!-- Bottom Navigation --> 
        <div class="bottom-nav-wrapper">
            <a class ="bottom-nav-child-fixed" href="https://www.ufred.ca/">
                <img  class ="bottom-nav-child-fixed" src="assets/image/ufred_logo.svg" alt="UFred Logo">
            </a>
            <div class="nav-title">
                <p id="nav-title-inner">Module 1: Title goes here...</p>
            </div>
            <div class="nav-icons-wrapper">
                <a class="bottom-nav-child-flex" id="first-child" href="_blank">
                    <img class ="nav-icons"  src="assets/image/menu_icon.svg" alt="Nav Icon">
                </a>
                <a class="bottom-nav-child-flex" href="_blank">
                    <img class ="nav-icons"  src="assets/image/links_icon.svg" alt="Nav Link">
                </a>
                <a class="bottom-nav-child-flex" id="last-child" href="_blank">
                    <img class ="nav-icons"  src="assets/image/help_icon.svg" alt="Nav Help">
                </a>
            </div>
        </div>

    </div>
    

    <!-- Contains Data for Each Link --> 
    <div id="links" style="display: none">
        <a href="assets/image/bg.jpg" data-intro-title="Title goes here..." data-intro-text='1Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>2Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>3Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<'>
            <img src="assets/image/bg.jpg" alt="Background Image 1" >
        </a>
        <a href="assets/image/bg.jpg" 
           data-intro-title="Title 2 goes here..." 
           data-intro-text='Bill Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>Says Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>Hi Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<'>
            <img src="assets/image/bg.jpg" alt="Background Image 2">
        </a>
        <a href="assets/image/bg.jpg" 
           data-intro-title="Title 3 goes here..." 
           data-intro-text='HOW Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>ARE Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<br>YOU Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<'>
            <img src="assets/image/bg.jpg" alt="Background Image 3">
        </a>

    </div>
<!--Custom JS-->
<script src="assets/main.js"></script>

<!--Gallery-->
<script src="assets/js/blueimp-gallery.min.js"></script>

<!--Jquery 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
-->
    
<script>
blueimp.Gallery(
    document.getElementById('links').getElementsByTagName('a'),
    {
        container: '#blueimp-gallery-carousel',
        carousel: true,
        onslide: function (index, slide) {
            
            
            // There has to be a better way than this...blueimp's documentation is kind of confusing I had to manually implement the code below to achieve the wanted visual/effect for the intro text part;
            var title = this.list[index].getAttribute('data-intro-title'),
                node = this.container.find('.intro-title'),
                text = this.list[index].getAttribute('data-intro-text'),
                nodeTwo = this.container.find('.intro-text')
                intro = document.querySelector('.intro-wrapper');

            fadeOut(intro); // fadeOut animation for the intro text when the gallery slides; I choose to not include JQuery if this is all I need it for;
            
            // Callback function to set a half a second interval between animations 
            setTimeout(function(){
                
                // Clear the nodes after scroll
                node.empty(); 
                nodeTwo.empty();

                // Extract title from data-* and append to the right node
                if (title) {
                    node[0].appendChild(document.createTextNode(title));
                }
                
                // Extract text from data-*, slice the text right before each <br>, append the sliced the string under a <P> tag under the right node; Scan through and repeat the process for rest of the strings;
                if (text) {
                    
                    let c = -1;
                    for(let i = 0; i < text.length; i++) {
                        c++;
                        if (text[i] === "<") { // This is a weak implementation that may lead to bugs if, say, <strong> is used;
                            // console.log(c);
                            // console.log(i);
                            let para = document.createElement("P");
                            let t = document.createTextNode(text.slice(i-c, i));
                            para.append(t);
                            nodeTwo[0].appendChild(para);
                            // console.log(text);
                            c = -4;
                        }
                    }                   
                }
                fadeIn(intro); // Fadein the new intro once the scrolling is completed
            }, 500);
            
        },
        startSlideshow: false // Set to true if need to scroll the gallery automatically;
    }
);
    


</script>    
    
</body>
</html>